@use "@styles/mixins" as *;

.accordion {
    background-color: rgba($color-white-rgb,.5);
    border-radius: $radius;
    transition: $duration background-color;

    &__header {
        position: relative;
        width: 100%;
        display: grid;
        //align-items: center;
        grid-template-columns: minmax(0, 1fr) auto;
        gap: $space;
        padding: 1.25rem;
        border-radius: $radius;
        color: $color-grey;
        transition: $duration color;

        &:hover {
            color: $color-accent;
        }
    }

    &__title {
        font-size: $text-size-md;
        line-height: 1.5;
        color: inherit;

        @include media-min(mob) {
            font-size: $text-size-xl;
        }
    }

    &__header-icon {
        display: flex;
        width: 1.5rem;
        height: 1.5rem;
        align-items: center;
        justify-content: center;
        color: $color-grey-light;
        transition: color $duration;

        @include media-min(mob) {
            margin-top: 3px;
            margin-bottom: 3px;
        }
    }

    &__header:hover &__header-icon {
        color: $color-accent;
    }

    &__header:hover &__plus {
        opacity: 1;
    }

    &__plus {
        display: block;
        width: 14px;
        height: 2px;
        border-radius: 2px;
        background-color: currentColor;
        position: relative;
        opacity: .5;
        transition: opacity $duration;

        &:before {
            content: "";
            display: block;
            width: 100%;
            height: 100%;
            border-radius: 2px;
            background-color: currentColor;
            transform: rotate(90deg);
            transition: opacity $duration;
        }
    }

    &__header-button {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        cursor: pointer;
        user-select: none;
        border-radius: $radius;

        &:focus-visible {
            outline-color: $color-accent;
            outline-offset: -6px;
        }
    }

    &__inner {
        padding: 0 1.25rem 1.25rem;
        color: $color-grey-light;
        font-size: $text-size;
        line-height: 1.6;

        a {
            text-decoration: underline;
        }
    }

    &__content {
        max-height: 0;
        overflow: hidden;
        visibility: hidden;
        opacity: 0;
        transition: max-height $duration, visibility $duration, opacity $duration;
    }

    &:hover,
    &.is-active {
        background-color: $color-white;
    }

    &.is-active {
        .accordion {
            &__content {
                visibility: visible;
                opacity: 1;
            }

            &__header {
                color: $color-black;

                &:hover {
                    color: $color-accent;
                }
            }

            &__header-icon {
                color: $color-accent;
            }

            &__plus {
                opacity: 1;

                &:before {
                    opacity: 0;
                }
            }
        }
    }

    &.is-visible {
        & > .accordion__content {
            overflow: visible;
            max-height: none;
        }
    }
}
