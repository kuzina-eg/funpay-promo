---
import Button from '@components/modules/Button.astro';
import Picture from '@components/modules/Picture.astro';

interface Props {
    items?: Array<string>;
    modalText?: string;
    buttonText?: string;
    class?: string;
    [x: string]: any;
}

const {
    items = [],
    modalText,
    buttonText,
    class: className,
    ...rest
} = Astro.props;


    ---
<div class="prizes lootery-section">
    {items.map((item) => (
        <div class="item-prize">
            <div class="item-prize__detail">
                <div class="item-prize__title"><a href=`#${item.image}` class="item-prize__link" data-fancybox="prizes" set:html={item.title}></a></div>
                <div class="item-prize__count" set:html={item.count}></div>
            </div>
            <div class="item-prize__photo">
                <Picture
                    class="item-prize__image"
                    name={item.image}
                    directory="img/lootery/prizes/"
                    type="png"
                    imageWidth="500"
                    imageHeight="400"
                ></Picture>
            </div>
            <div class="item-prize__arrow">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M3.125 10H16.875"/>
                    <path d="M11.25 4.375L16.875 10L11.25 15.625"/>
                </svg>
            </div>
        </div>
    ))}

    {items.map((item, index) => (
        <div class="lootery-modal" id={item.image} style="display: none;">
            <div class="lootery-modal__photo">
                <Picture
                    class="lootery-modal__image"
                    name={item.image}
                    directory="img/lootery/prizes/"
                    type="png"
                    imageWidth="500"
                    imageHeight="400"
                ></Picture>
            </div>
            <h3 class="lootery-modal__title" set:html={item.title}></h3>
            <div class="lootery-modal__param" set:html={item.param}></div>
            <div class="lootery-modal__descr" set:html={item.text}></div>
            <div class="lootery-modal__note" set:html={item.note}></div>
            <div class="lootery-modal__action">
                <div class="lootery-modal__action-logo">
                    <img src="img/lootery/logo.png" width="100" height="39" alt="">
                </div>
                <div class="lootery-modal__action-text" set:html={modalText}></div>
            </div>
            <div class="lootery-modal__button">
                <Button type="link" href="#" center="true" size="lg" set:html={buttonText}></Button>
            </div>
            <div class="lootery-modal__pagination">
                {items.map((item, pageIndex) => (
                    <div
                        class:list={[
                            'lootery-modal__page',
                            pageIndex == index ? 'is-active' : ''
                        ]}
                    ></div>
                ))}
            </div>
        </div>
    ))}
</div>
