---
import Button from '@components/modules/Button.astro';
import Picture from '@components/modules/Picture.astro';

interface Props {
    title?: string;
    items?: Array<string>;
    myTicketsText1?: string;
    myTicketsText2?: string;
    myTicketsText3?: string;
    myTicketsText4?: string;
    note?: string;
    myTicketsBoxTitle1?: string;
    myTicketsBoxTitle2?: string;
    myTicketsBoxText?: string;
    buttonText?: string;
    tableParamName?: string;
    tableValueName?: string;
    class?: string;
    [x: string]: any;
}

const {
    title = 'Мои билеты',
    items = [],
    myTicketsText1,
    myTicketsText2,
    myTicketsText3,
    myTicketsText4,
    note,
    myTicketsBoxTitle1,
    myTicketsBoxTitle2,
    myTicketsBoxText,
    buttonText,
    tableParamName,
    tableValueName,
    class: className,
    ...rest
} = Astro.props;

---
<section class="lootery-my-tickets lootery-section" id="tickets">
    <h2 class="lootery-my-tickets__title lootery-section__title" set:html={title}></h2>
    <div class="lootery-my-tickets__descr">
        <Fragment set:html={myTicketsText1}></Fragment>
        <strong set:html={myTicketsText2}></strong>,
        <Fragment set:html={myTicketsText3}></Fragment>
        <span class="ticket-text">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M14 6C14 6.55228 14.4477 7 15 7C15.5523 7 16 6.55228 16 6V5H19C19.5304 5 20.039 5.21086 20.4141 5.58594C20.7891 5.96101 21 6.46957 21 7V10C20.4696 10 19.961 10.2109 19.5859 10.5859C19.2109 10.961 19 11.4696 19 12C19 12.5304 19.2109 13.039 19.5859 13.4141C19.961 13.7891 20.4696 14 21 14V17C21 17.5304 20.7891 18.039 20.4141 18.4141C20.039 18.7891 19.5304 19 19 19H16V18C16 17.4477 15.5523 17 15 17C14.4477 17 14 17.4477 14 18V19H5C4.46957 19 3.96101 18.7891 3.58594 18.4141C3.21086 18.039 3 17.5304 3 17V14C3.53043 14 4.03899 13.7891 4.41406 13.4141C4.78914 13.039 5 12.5304 5 12C5 11.4696 4.78914 10.961 4.41406 10.5859C4.03899 10.2109 3.53043 10 3 10V7C3 6.46957 3.21086 5.96101 3.58594 5.58594C3.96101 5.21086 4.46957 5 5 5H14V6ZM15 14C14.4477 14 14 14.4477 14 15C14 15.5523 14.4477 16 15 16C15.5523 16 16 15.5523 16 15C16 14.4477 15.5523 14 15 14ZM15 11C14.4477 11 14 11.4477 14 12C14 12.5523 14.4477 13 15 13C15.5523 13 16 12.5523 16 12C16 11.4477 15.5523 11 15 11ZM15 8C14.4477 8 14 8.44772 14 9C14 9.55228 14.4477 10 15 10C15.5523 10 16 9.55228 16 9C16 8.44772 15.5523 8 15 8Z" fill="#255FE4"/>
            </svg>
            <Fragment set:html={myTicketsText4}></Fragment>
        </span>
    </div>
    <div class="lootery-my-tickets__note" set:html={note}></div>

    <div class="lootery-my-tickets__box">
        <div class="lootery-my-tickets__box-photo">
            <Picture
                class="lootery-my-tickets__box-image"
                name="ornament"
                directory="img/lootery/tickets/"
                type="png"
                imageWidth="830"
                imageHeight="377"
                sourceMobile='<source type="image/webp" srcset="img/lootery/tickets/ornament-mobile@2x.webp 2x" media="(max-width: 480px)">'
            ></Picture>
        </div>
        <div class="lootery-my-tickets__box-title">
            <Fragment set:html={myTicketsBoxTitle1}></Fragment>
            <span class="ticket-text">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M14 6C14 6.55228 14.4477 7 15 7C15.5523 7 16 6.55228 16 6V5H19C19.5304 5 20.039 5.21086 20.4141 5.58594C20.7891 5.96101 21 6.46957 21 7V10C20.4696 10 19.961 10.2109 19.5859 10.5859C19.2109 10.961 19 11.4696 19 12C19 12.5304 19.2109 13.039 19.5859 13.4141C19.961 13.7891 20.4696 14 21 14V17C21 17.5304 20.7891 18.039 20.4141 18.4141C20.039 18.7891 19.5304 19 19 19H16V18C16 17.4477 15.5523 17 15 17C14.4477 17 14 17.4477 14 18V19H5C4.46957 19 3.96101 18.7891 3.58594 18.4141C3.21086 18.039 3 17.5304 3 17V14C3.53043 14 4.03899 13.7891 4.41406 13.4141C4.78914 13.039 5 12.5304 5 12C5 11.4696 4.78914 10.961 4.41406 10.5859C4.03899 10.2109 3.53043 10 3 10V7C3 6.46957 3.21086 5.96101 3.58594 5.58594C3.96101 5.21086 4.46957 5 5 5H14V6ZM15 14C14.4477 14 14 14.4477 14 15C14 15.5523 14.4477 16 15 16C15.5523 16 16 15.5523 16 15C16 14.4477 15.5523 14 15 14ZM15 11C14.4477 11 14 11.4477 14 12C14 12.5523 14.4477 13 15 13C15.5523 13 16 12.5523 16 12C16 11.4477 15.5523 11 15 11ZM15 8C14.4477 8 14 8.44772 14 9C14 9.55228 14.4477 10 15 10C15.5523 10 16 9.55228 16 9C16 8.44772 15.5523 8 15 8Z" fill="#255FE4"/>
                </svg>
                <Fragment set:html={myTicketsBoxTitle2}></Fragment>
            </span>
        </div>
        <div class="lootery-my-tickets__box-descr" set:html={myTicketsBoxText}></div>
        <div class="lootery-my-tickets__box-button">
            <Button type="link" href="#myTickets" center="true" size="lg" data-fancybox>{buttonText}</Button>
        </div>
    </div>

    <div class="lootery-modal-my-tickets lootery-modal" id="myTickets" style="display: none;">
        <div class="lootery-modal-my-tickets__header">
            <div class="lootery-modal-my-tickets__photo">
                <Picture
                    class="lootery-modal-my-tickets__image"
                    name="my"
                    directory="img/lootery/tickets/"
                    type="png"
                    imageWidth="436"
                    imageHeight="182"
                ></Picture>
            </div>
            <div class="lootery-modal-my-tickets__action lootery-modal__action">
                <div class="lootery-my-tickets__box-title">
                    <span class="ticket-text">
                        <Fragment set:html={myTicketsBoxTitle1}></Fragment>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M14 6C14 6.55228 14.4477 7 15 7C15.5523 7 16 6.55228 16 6V5H19C19.5304 5 20.039 5.21086 20.4141 5.58594C20.7891 5.96101 21 6.46957 21 7V10C20.4696 10 19.961 10.2109 19.5859 10.5859C19.2109 10.961 19 11.4696 19 12C19 12.5304 19.2109 13.039 19.5859 13.4141C19.961 13.7891 20.4696 14 21 14V17C21 17.5304 20.7891 18.039 20.4141 18.4141C20.039 18.7891 19.5304 19 19 19H16V18C16 17.4477 15.5523 17 15 17C14.4477 17 14 17.4477 14 18V19H5C4.46957 19 3.96101 18.7891 3.58594 18.4141C3.21086 18.039 3 17.5304 3 17V14C3.53043 14 4.03899 13.7891 4.41406 13.4141C4.78914 13.039 5 12.5304 5 12C5 11.4696 4.78914 10.961 4.41406 10.5859C4.03899 10.2109 3.53043 10 3 10V7C3 6.46957 3.21086 5.96101 3.58594 5.58594C3.96101 5.21086 4.46957 5 5 5H14V6ZM15 14C14.4477 14 14 14.4477 14 15C14 15.5523 14.4477 16 15 16C15.5523 16 16 15.5523 16 15C16 14.4477 15.5523 14 15 14ZM15 11C14.4477 11 14 11.4477 14 12C14 12.5523 14.4477 13 15 13C15.5523 13 16 12.5523 16 12C16 11.4477 15.5523 11 15 11ZM15 8C14.4477 8 14 8.44772 14 9C14 9.55228 14.4477 10 15 10C15.5523 10 16 9.55228 16 9C16 8.44772 15.5523 8 15 8Z" fill="#255FE4"/>
                        </svg>
                        <Fragment set:html={myTicketsBoxTitle2}></Fragment>
                    </span>
                </div>
            </div>
        </div>
        <div class="lootery-modal-my-tickets__body">
            <div class="table-ticket">
                <div class="table-ticket__header">
                    <div class="table-ticket__param">{tableParamName}</div>
                    <div class="table-ticket__value">{tableValueName}</div>
                </div>
                <div class="table-ticket__body">
                    {items.map((order) => (
                        <div class="table-ticket__row">
                            <div class="table-ticket__param">{order.orderNumber}</div>
                            <div class="table-ticket__value" set:html={order.tickets}></div>
                        </div>
                    ))}
                </div>
            </div>
        </div>
    </div>
</section>
